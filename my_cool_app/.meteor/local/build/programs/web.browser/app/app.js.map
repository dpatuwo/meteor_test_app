{"version":3,"sources":["meteor://ðŸ’»app/client/template.main.js","meteor://ðŸ’»app/client/main.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2G;;;;;;;;;;;AC9BA,WAAW,IAAI,MAAM,UAAN,CAAiB,MAArB,CAAX;;;AAGA,IAAI,OAAO,QAAP,EAAiB;;;AAGnB,SAAO,OAAP,CAAe,UAAf,EAA2B,YAAW;AACpC,WAAO,SAAS,IAAT,CAAc,EAAd,EAAkB,EAAC,MAAM,EAAC,WAAW,CAAC,CAAD,EAAlB,EAAuB,OAAO,CAAP,EAA1C,CAAP;;AADoC,GAAX,CAA3B,CAHmB;CAArB;;AAUE,IAAI,OAAO,QAAP,EAAiB;;;AAGnB,SAAO,SAAP,CAAiB,UAAjB,EAHmB;CAArB;;;AAOA,OAAO,OAAP,CAAe;AACb;AAAa,yBAAU,OAAV,EAAmB;AAC9B,UAAG,CAAE,OAAO,MAAP,EAAF,EAAmB;AACpB,cAAM,IAAI,OAAO,KAAP,CAAa,gBAAjB,CAAN,CADoB;OAAtB;;;AAD8B,cAM5B,CAAS,MAAT,CAAgB;AACd,cAAM,OAAN;AACA,mBAAW,IAAI,IAAJ,EAAX;AACA,kBAAU,OAAO,IAAP,GAAc,QAAd;AAHI,OAAhB,EAN4B;KAAnB;;;KAAb;CADF;;AAeA,IAAI,OAAO,QAAP,EAAiB;AACnB,WAAS,IAAT,CAAc,OAAd,CAAsB;AACpB;AAAgB,gCAAY;AAC1B,eAAO,SAAS,IAAT,CAAc,EAAd,EAAkB,EAAC,MAAM,EAAC,WAAW,CAAX,EAAP,EAAnB,CAAP,CAD0B;OAAZ;;;OAAhB;GADF,EADmB;;AAOrB,WAAS,IAAT,CAAc,MAAd,CAAqB;AACnB;AAAuB,gCAAU,KAAV,EAAiB;AACtC,YAAI,OAAO,MAAM,MAAN,CAAa,IAAb,CAAkB,KAAlB,CAD2B;;AAGtC,eAAO,IAAP,CAAY,aAAZ,EAA2B,IAA3B,EAHsC;;AAKtC,cAAM,MAAN,CAAa,IAAb,CAAkB,KAAlB,GAA0B,EAA1B,CALsC;AAMtC,eAAO,KAAP,CANsC;OAAjB;;;OAAvB;GADF;;AAPqB,UAkBrB,CAAS,EAAT,CAAY,MAAZ,CAAmB;AACjB,0BAAsB,eAAtB;GADF,EAlBqB;CAArB","file":"/app.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n  \", HTML.HEADER(\"\\n  \", HTML.Raw(\"<h1>Basic Chat Application</h1>\"), \"\\n  \", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n  \", HTML.Raw(\"<!-- template loginButtons -->\"), \"\\n  \"), \"\\n\\n  \", HTML.UL(\"\\n  \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"recentMessages\"));\n  }, function() {\n    return [ \"\\n  \", HTML.Comment(\" handle bar syntax \"), \"\\n  \", HTML.LI(\"\\n  \", HTML.DIV({\n      \"class\": \"username\"\n    }, Blaze.View(\"lookup:username\", function() {\n      return Spacebars.mustache(view.lookup(\"username\"));\n    })), \"\\n  \", HTML.DIV({\n      \"class\": \"message\"\n    }, Blaze.View(\"lookup:message\", function() {\n      return Spacebars.mustache(view.lookup(\"message\"));\n    })), \"\\n  \"), \"\\n  \" ];\n  }), \"\\n  \"), \"\\n  \", HTML.FOOTER(\"\\n  \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n  \", HTML.Comment(\" helper from accounts package; renders form only if user is logged in, otherwise hides form \"), \"\\n\\n  \", HTML.FORM({\n      \"class\": \"new message\"\n    }, \"\\n  \", HTML.INPUT({\n      type: \"text\",\n      name: \"text\",\n      placeholder: \"Add a message\"\n    }), \"\\n  \"), \"\\n\\n  \" ];\n  }), \"\\n  \"), \"\\n\\n  \");\n}));\nMeteor.startup(Template.body.renderToDocument);\n","Messages = new Mongo.Collection(\"msgs\");\n// This code runs on both client (mini Mongo, Meteor's client-side cache; mini Mongo will keep a subset of the data that's on the server) and server (Production MongoDB database)\n\nif (Meteor.isServer) {\n  // This code only runs on the server\n  // \"Meteor.publish\" gets data from the server to the client\n  Meteor.publish(\"messages\", function() {\n    return Messages.find({}, {sort: {createdAt: -1}, limit: 5});\n    // 5 most recent messages to be sent to client\n  });\n  }\n\n\n  if (Meteor.isClient) {\n    // This code only runs on the client\n    // Subscribe to Meteor.publish (publication) to recieve messages; similar to a REST end point\n    Meteor.subscribe(\"messages\");\n  }\n\n// This code sends data (messages) from the client to the server\n  Meteor.methods({\n    sendMessage: function (message) {\n      if(! Meteor.userId()) {\n        throw new Meteor.Error(\"not-authorized\");\n        } // user authentication\n        //prevents users from sending messages when not logged in\n\n        Messages.insert({\n          text: message,\n          createdAt: new Date(),\n          username: Meteor.user().username // user authentication\n        });\n      }\n  });\n\n  if (Meteor.isClient) {\n    Template.body.helpers({ // publishes an array of messages, displayed in forward chronological order\n      recentMessages: function () {\n        return Messages.find({}, {sort: {createdAt: 1}});\n      }\n    });\n\n  Template.body.events({ // event handler\n    \"submit .new-message\": function (event) {\n      var text = event.target.text.value;\n\n      Meteor.call('sendMessage', text);\n\n      event.target.text.value = \"\";\n      return false;\n    }\n  }); // replicates to multiple clients at the same time, clients connected to the server; when we save to the db, it reactively changes our interface, and then when the data gets up to the db, it will push down any changes to any connected clients\n\n  Accounts.ui.config({\n    passwordSignupFields: \"USERNAME_ONLY\"\n  });\n\n}\n\n\n// code taken from \"An Introduction to Meteor\" video:\n// https://www.youtube.com/watch?v=dOCMpoeuwTI\n\n\n\n\n// import { Template } from 'meteor/templating';\n// import { ReactiveVar } from 'meteor/reactive-var';\n\n// import './main.html';\n\n// Template.hello.onCreated(function helloOnCreated() {\n//   // counter starts at 0\n//   this.counter = new ReactiveVar(0);\n// });\n\n// Template.hello.helpers({\n//   counter() {\n//     return Template.instance().counter.get();\n//   },\n// });\n\n// Template.hello.events({\n//   'click button'(event, instance) {\n//     // increment the counter when button is clicked\n//     instance.counter.set(instance.counter.get() + 1);\n//   },\n// });\n"]}